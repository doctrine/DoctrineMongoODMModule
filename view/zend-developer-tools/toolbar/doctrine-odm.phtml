<div class="zdt-toolbar-entry">
    <div class="zdt-toolbar-preview">
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY3RTlCQTE5NDZDQzExRTI4QjM0REZDMDAwNjlBN0FFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjY3RTlCQTFBNDZDQzExRTI4QjM0REZDMDAwNjlBN0FFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjdFOUJBMTc0NkNDMTFFMjhCMzRERkMwMDA2OUE3QUUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjdFOUJBMTg0NkNDMTFFMjhCMzRERkMwMDA2OUE3QUUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7WsgYNAAAENElEQVR42oxUbUxbZRQ+t/fervQDRskIa6EMBEXGFnRJk4rzI8QQSQw/JX7wS4m/NJk/FpJlGf4hxBCTmbgBExOJgtHoFkUMjigZH2MbMgalKx+ylhbKbAcdlLb09l6f97ZN5rKpp3ly73173uc95znvOZzf76cH7BXgTeAI8DSQRY+2VcAJ/Ax8b7VaVRJFUYjz+Xzs/S3gM8AkSdLe+vr6ttPpjK6uriZgMgfLbMjLyxMrKirE0tJSo8lkMqYP6AXeA/GuAKd38dE1MDDg7e7uvj01NRVKR7AIBIAEoElvlIFc4BDwBAgO1tfXm1taWl4XBKEaa0e5ycnJGwUFBcdKSko+lGX5osfj+ZP+pxUXFzNye1dX14W6urpCm83GCbOzs3J+fj4tLy+fYrqB9Bc8lwGmBYtWYZvPuD9SSc48dVqPh+XCcu8bKysrbKkeKIxGo0n2IUCTBEgonco7aTC97kG6UCbl0+Wn1JSTyWT2UPBX683NOW7Ef5WOH7SrB4miyKuE09PT/qqqqkdlZAap+eHFobuXaWxrjGQ5SW3T58gg6Kk6r5JwWyIoFPHBYJC8Xu/RsrIyo16vZ0Wix+FOxENfrvaRyPMUT0i0Ed6iW/dcFLu1tfZpx9krzc3N3/BDQ0MfwNnT1NTkHR0djeGaSOyqaLVajU6n+8cBn3u+otBekLQqYZJC2xGKJqM0F7jt+uLkubjFYvlacLlcR2pqahzj4+MT8/PzfW1tbfzMzMwBg8FQBg3zoK+i0Wg47SG9oeTk4WeztftIguayIuMQQOaIt+rsES6qSiLE43FKF8VRWVnp6O1ld5TuYs0JuPEeYX7nff3PXA1fU8kk6KfuUVK6xqU9urJ2XXnx2HESNjc3t1C5h7XPZ0CEL2cWgon7lEBECZBJskRJNcLUTefAfG1jRvXTdHR0XBwcHPSzE/8NvtgGSWBQge+kLKu6kqovGjvg3lMJ+/r68hcWFn5qaGiY6OzsXHK73fcjkYjEon4QYWkXESpqlJKClClFKKfBoX6MkOvv7x9DCz23s7Nztr29fXFiYuIwCG1oRXNubq6Igqh+nrf5Kq2J1+YIAu0XtSTH0UqBMKlzA4Q5oolmTwxzQiAQ4IqKigh38P3W1lZ2qhdOU6FQaGRtbc0P8hjP85pPdJdOxJXYk6ko06nKChNQ7U4Dn5p0AlpGSlc5YzaQ2hAdMWTsVTTAd6HLKEoqbQ0jy5SZjR9jYaooPT09I5h/u/9VlBeM1cTjJ7FKp6utBgpig0ZPwo3oHVUbNjmysrI+bmxstDscjgPl5eU5jxtX5//6gUa2r1O2KJJmN0liWKdYYuYd3yXXkvOPuTZk9i03PDxMtbW1Wvi/hvRfstvtz6NIejS6wWw274N+XIZwl4tz/eLvxpL1/eHIzVBwaXZhESPsN/z1I8jYyKO/BRgA1r1+Kb0HhFQAAAAASUVORK5CYII=" alt="MongoDB (DoctrineMongoODMModule)">
        <span class="zdt-toolbar-info">
            <?php echo $this->collector->getQueryCount(); ?> queries
        </span>
    </div>
    <div class="zdt-toolbar-detail">
        <span class="zdt-toolbar-info zdt-toolbar-info-heading">Details</span>
        <span class="zdt-toolbar-info">
            <span class="zdt-detail-label">Help us!</span>
            <span class="zdt-detail-value zdt-detail-value-right">
                Please help us improve
                <br/>
                profiling by forking and
                <br/>
                contributing to
                <br/>
                <a href="https://github.com/doctrine/DoctrineMongoODMModule/fork_select" target="_blank">
                    DoctrineMongoODMModule
                </a>
            </span>
        </span>

        <span class="zdt-toolbar-info zdt-toolbar-info-heading">Queries <span class="ddt-toolbar-info">for <?php echo $this->collector->getName() ?></span></span>
        <span class="zdt-toolbar-info ddt-toolbar-info">
        <?php foreach ($this->collector->getQueries() as $query): ?>
            <hr/>

            <?php if (isset($query['db'])): ?>
                <span class="zdt-detail-label">Database</span>
                <span class="zdt-detail-value ddt-detail-value">
                    <?php \Doctrine\Common\Util\Debug::dump($query['db']) ?>
                </span>
                <span class="clear"></span>
            <?php endif ?>

            <?php if (isset($query['collection'])): ?>
                <span class="zdt-detail-label">Collection</span>
                <span class="zdt-detail-value ddt-detail-value">
                    <?php \Doctrine\Common\Util\Debug::dump($query['collection']) ?>
                </span>
                <span class="clear"></span>
            <?php endif ?>

            <span class="zdt-detail-label">Query</span>
            <span class="zdt-detail-value ddt-detail-query ddt-detail-value">

                <?php if (isset($query['query']) && is_array($query['query']) && !empty($query['query'])): ?>
                    <?php foreach($query['query'] as $key => $value): ?>
                        <?php print_r($value) ?>
                    <?php endforeach ?>
                <?php endif ?>
            </span>

            <span class="clear"></span>

            <?php if (isset($query['fields']) && is_array($query['fields']) && !empty($query['fields'])): ?>
                <span class="zdt-detail-label">Fields</span>
                <span class="zdt-detail-value ddt-detail-value">
                        <?php foreach($query['fields'] as $key => $value): ?>
                            &nbsp;&nbsp;&nbsp;&nbsp;<?php echo $key ?> => <?php print_r($value) ?>
                        <?php endforeach ?>
                </span>
                <span class="clear"></span>
            <?php endif ?>

            <?php if (isset($query['find'])): ?>
                <span class="zdt-detail-label">Find</span>
                <span class="zdt-detail-value ddt-detail-value">
                    <?php \Doctrine\Common\Util\Debug::dump($query['find']) ?>
                </span>
                <span class="clear"></span>
            <?php endif ?>

            <?php if (isset($query['limit'])): ?>
                <span class="zdt-detail-label">Limit to</span>
                <span class="zdt-detail-value ddt-detail-value">
                    <?php \Doctrine\Common\Util\Debug::dump($query['limitNum']) ?>
                </span>
                <span class="clear"></span>
            <?php endif ?>

            <?php if (isset($query['sort'])): ?>
                <span class="zdt-detail-label">Sort by</span>
                <span class="zdt-detail-value ddt-detail-value">
                    <?php \Doctrine\Common\Util\Debug::dump($query['sortFields']) ?>
                </span>
                <span class="clear"></span>
            <?php endif ?>

            <?php if (isset($query['skip'])): ?>
                <span class="zdt-detail-label">Skip to</span>
                <span class="zdt-detail-value ddt-detail-value">
                    <?php \Doctrine\Common\Util\Debug::dump($query['skipNum']) ?>
                </span>
                <span class="clear"></span>
            <?php endif ?>

            <?php if (isset($query['authenticate'])): ?>
                <span class="zdt-detail-label">Authenticate</span>
                <span class="zdt-detail-value ddt-detail-value">
                    &nbsp;&nbsp;&nbsp;&nbsp;username => <?php \Doctrine\Common\Util\Debug::dump($query['username']) ?><br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;password => <?php \Doctrine\Common\Util\Debug::dump($query['password']) ?>
                </span>
                <span class="clear"></span>
            <?php endif ?>

            <?php if (isset($query['command'])): ?>
                <span class="zdt-detail-label">Command</span>
                <span class="zdt-detail-value ddt-detail-value">
                    &nbsp;&nbsp;&nbsp;&nbsp;data => <?php \Doctrine\Common\Util\Debug::dump($query['data']) ?><br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;options => <?php \Doctrine\Common\Util\Debug::dump($query['options']) ?>
                </span>
                <span class="clear"></span>
            <?php endif ?>

            <?php if (isset($query['createCollection'])): ?>
                <span class="zdt-detail-label">Create collection</span>
                <span class="zdt-detail-value ddt-detail-value">
                    &nbsp;&nbsp;&nbsp;&nbsp;capped => <?php \Doctrine\Common\Util\Debug::dump($query['capped']) ?><br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;size => <?php \Doctrine\Common\Util\Debug::dump($query['size']) ?><br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;max => <?php \Doctrine\Common\Util\Debug::dump($query['max']) ?>
                </span>
                <span class="clear"></span>
            <?php endif ?>

            <?php if (isset($query['createDBRef'])): ?>
                <span class="zdt-detail-label">Create DB ref</span>
                <span class="zdt-detail-value ddt-detail-value">
                    &nbsp;&nbsp;&nbsp;&nbsp;collection => <?php \Doctrine\Common\Util\Debug::dump($query['collection']) ?><br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;reference => <?php \Doctrine\Common\Util\Debug::dump($query['reference']) ?>
                </span>
                <span class="clear"></span>
            <?php endif ?>

            <?php if (isset($query['getDBRef'])): ?>
                <span class="zdt-detail-label">Get DB ref</span>
                <span class="zdt-detail-value ddt-detail-value">
                    &nbsp;&nbsp;&nbsp;&nbsp;reference => <?php \Doctrine\Common\Util\Debug::dump($query['reference']) ?>
                </span>
                <span class="clear"></span>
            <?php endif ?>

            <?php if (isset($query['drop'])): ?>
                <span class="zdt-detail-label">Drop database</span>
                <span class="zdt-detail-value ddt-detail-value">
                    &nbsp;&nbsp;&nbsp;&nbsp;dropDatabase => <?php \Doctrine\Common\Util\Debug::dump($query['dropDatabase']) ?>
                </span>
                <span class="clear"></span>
            <?php endif ?>

            <?php if (isset($query['execute'])): ?>
                <span class="zdt-detail-label">Code</span>
                <span class="zdt-detail-value ddt-detail-value">
                    <?php print_r($query['code']) ?>
                </span>
                <span class="clear"></span>
                <span class="zdt-detail-label">Args</span>
                <span class="zdt-detail-value ddt-detail-value">
                    <?php foreach($query['args'] as $key => $value): ?>
                        &nbsp;&nbsp;&nbsp;&nbsp;<?php echo $key ?> => <?php \Doctrine\Common\Util\Debug::dump($value) ?><br/>
                    <?php endforeach ?>
                </span>
                <span class="clear"></span>
            <?php endif ?>
        <?php endforeach ?>
        </span>
    </div>
</div>
<style>
.zdt-toolbar-entry .zdt-toolbar-detail .ddt-toolbar-info {

    font-size: 11px;
    max-width: 600px;
    witdh: 600px;
    max-height: 300px;
    overflow-y: scroll;
    overflow-x: hidden;
}

.zdt-toolbar-entry .zdt-toolbar-detail .ddt-detail-query {

    white-space: normal;
    width: 400px;
}

.zdt-toolbar-entry .zdt-toolbar-detail .ddt-detail-query .highlight {

    color: #80DC09;
    font-weight: bold;
}

.zdt-toolbar-entry .zdt-toolbar-info .clear {

    clear: both;
    display: block;
}

.zdt-toolbar-entry .zdt-toolbar-detail .ddt-toolbar-info hr {

    border: 0;
    border-top: 1px solid #80DC09;
    clear: both;
}
</style>
